import{S as ba,i as wa,s as Sa,e as s,t as a,k as d,c as i,a as n,h as r,d as o,m as u,b as p,U as ma,g as c,K as e,E as go}from"../../chunks/index-5dfa2933.js";import"../../chunks/Notification-7f4998ec.js";/* empty css                                                            */import"../../chunks/prism-a46989fb.js";import"../../chunks/index-edf86401.js";import"../../chunks/ripple-59eba3d5.js";(function(C){var h="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",L={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},S={bash:L,environment:{pattern:RegExp("\\$"+h),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+h),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};C.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+h),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:S},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:L}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:S},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:S.entity}}],environment:{pattern:RegExp("\\$?"+h),alias:"constant"},variable:S.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},L.inside=C.languages.bash;for(var R=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],te=S.variable[1].inside,E=0;E<R.length;E++)te[R[E]]=C.languages.bash[R[E]];C.languages.shell=C.languages.bash})(Prism);function va(C){let h,L,S,R,te,E,Ze,Je,Le,_,Qe,oe,et,tt,ae,ot,at,Re,X,rt,Me,g,st,re,it,nt,M,lt,ct,Ge,A,dt,G,ut,ht,He,F,q,Io,xe,m,H,pt,ft,se,mt,yt,ie,Et,bt,ne,wt,St,le,vt,_t,Be,f,gt,x,It,Tt,ce,Pt,kt,de,At,Nt,ue,Dt,Ot,he,Ct,Lt,Ue,y,Rt,pe,Mt,Gt,fe,Ht,xt,me,Bt,Ut,ye,$t,Wt,$e,j,Y,To,We,I,Xt,B,Ft,qt,Ee,jt,Yt,Xe,z,zt,Fe,U,ya=`<code class="language-bash"><span class="token builtin class-name">cd</span> ~
<span class="token function">git</span> clone https://github.com/BOJIT/local_ssl.git
<span class="token builtin class-name">cd</span> local_ssl
<span class="token function">chmod</span> +x install.sh
<span class="token function">sudo</span> ./install.sh</code>`,qe,K,Kt,je,b,be,T,we,Vt,Zt,Se,Jt,Qt,ve,eo,to,oo,_e,V,ge,ao,ro,so,Ie,N,Te,io,no,Pe,lo,co,uo,ke,P,Ae,ho,po,Ne,fo,mo,De,yo,Eo,Ye,D,bo,Oe,wo,So,ze,Z,vo;return{c(){h=s("p"),L=a("Lately I\u2019ve been playing about with "),S=s("em"),R=a("Progressive Web Apps"),te=a(" and some of the "),E=s("a"),Ze=a("cool things you can do now entirely in a Browser"),Je=a(". Most of my software experience is in the realm of embedded systems, where you don\u2019t really have to worry about maintaining a codebase for multiple platforms/architectures. The prospect of having to make/maintain a program for multiple operating systems intimidates me, so I\u2019m pleased that I can now make and distribute a cross-platform app in pretty much the same way that I deploy my website."),Le=d(),_=s("p"),Qe=a("The one trouble with Progressive Web Apps is that they can only be installed over a "),oe=s("strong"),et=a("secure connection"),tt=a(". This is quite sensible, and something I don\u2019t have to really worry about when deploying with "),ae=s("em"),ot=a("GitHub Pages"),at=a(". However, the moment I want to play about with something that\u2019s not on the public internet, things become a bit more tricky."),Re=d(),X=s("p"),rt=a("I\u2019m sure everyone reading this will have probably clicked through a secure connection warning or used self-signed certificates at some point. This doesn\u2019t work for Progressive Web Apps, and I found myself in the situation where I wanted to install a PWA that was hosted on a Raspberry Pi, but couldn\u2019t because my connection wasn\u2019t secure."),Me=d(),g=s("p"),st=a("So what do you need to get a secure connection without a self-signed certificate? The answer is a "),re=s("em"),it=a("certificate authority"),nt=a(". There are far better places than here to learn how certificate authorities work, but the mile-high explanation is that they tell users that you are who you say you are when they connect to your server, helping prevent "),M=s("a"),lt=a("Man-in-the-Middle Attacks"),ct=a("."),Ge=d(),A=s("p"),dt=a("My first thought to fix this issue was to set up my own "),G=s("a"),ut=a("local certificate authority"),ht=a(". This would work, but is not ideal, as I would have to add that Certificate Authority\u2019s root certificate to every device I wanted to use the PWA on, and I would have to host that Certificate Authority on any network I wanted to use the PWA on. Ideally I wanted to use a public Certificate Authority to sign certificates for a device on a private network. Hence this project."),He=d(),F=s("p"),q=s("img"),xe=d(),m=s("p"),H=s("a"),pt=a("My project"),ft=a(" works by taking advantage of something called a "),se=s("code"),mt=a("DNS-01"),yt=a(" challenge, and the only thing you need to use it is a domain name, proxied through "),ie=s("em"),Et=a("Cloudflare"),bt=a(". It uses a tool called "),ne=s("code"),wt=a("certbot"),St=a(" to generate a certificate through "),le=s("em"),vt=a("LetsEncrypt"),_t=a(" and the Cloudflare API to verify this certificate automatically. It\u2019s a neat way of getting out-of-the box SSL working on a Raspberry Pi or other Debian-based machines."),Be=d(),f=s("p"),gt=a("So how does it work? To get an understanding of what \u2018challenges\u2019 are and why they are used I would highly recommend reading "),x=s("a"),It=a("this article"),Tt=a(" on "),ce=s("em"),Pt=a("Letsencrypt\u2019s"),kt=a(" site. The most common challenge; the "),de=s("code"),At=a("HTTP-01"),Nt=a(" challenge; wont work here, as the Raspberry Pi\u2019s webserver is not publicly accessible by LetsEncrypt\u2019s servers. Instead, what we give our Pi a public DNS record through "),ue=s("em"),Dt=a("Cloudflare"),Ot=a(", and then give the Pi an API token that it can use to edit this record. When we go to issue our certificate, we can automatically add our challenge token to our DNS record when requesting a certificate. This DNS record can then also be used for "),he=s("em"),Ct=a("Dynamic DNS"),Lt=a(" when connecting to the Pi."),Ue=d(),y=s("p"),Rt=a("To set up this yourself, all you need to do is create an "),pe=s("code"),Mt=a("A"),Gt=a(" record on your domain through "),fe=s("em"),Ht=a("Cloudflare\u2019s"),xt=a(" DNS tools "),me=s("em"),Bt=a("(see image below)"),Ut=a(". The address doesn\u2019t really matter, as The Pi will keep it updated as it\u2019s local IP address changes. I set mine to "),ye=s("code"),$t=a("0.0.0.0"),Wt=a(" initially."),$e=d(),j=s("p"),Y=s("img"),We=d(),I=s("p"),Xt=a("Once this is done, you need to generate an "),B=s("a"),Ft=a("API Token"),qt=a(" and note it down along with your "),Ee=s("em"),jt=a("zone identifier"),Yt=a("."),Xe=d(),z=s("p"),zt=a("Now pull up a shell on your Pi/other device: Navigate to your home directory and run the following set of commands."),Fe=d(),U=s("pre"),qe=d(),K=s("p"),Kt=a("This will run a fully automated install script. The script will prompt for four bits of information:"),je=d(),b=s("ul"),be=s("li"),T=s("p"),we=s("code"),Vt=a("Record name (subdomain)"),Zt=a(" : this is the full domain name that you set up on "),Se=s("em"),Jt=a("Cloudflare"),Qt=a(". For me this might be something like "),ve=s("code"),eo=a("example.local.bojit.org"),to=a("."),oo=d(),_e=s("li"),V=s("p"),ge=s("code"),ao=a("Cloudflare API Token"),ro=a(" : The token you generated earlier."),so=d(),Ie=s("li"),N=s("p"),Te=s("code"),io=a("Cloudflare Zone Identifier"),no=a(" : A string that uniquely identifies you "),Pe=s("em"),lo=a("Cloudflare"),co=a(" zone. It can be found on your dashboard homepage."),uo=d(),ke=s("li"),P=s("p"),Ae=s("code"),ho=a("Target Interface"),po=a(" : This is the network interface on your Pi that you want to use to update the address of your DNS record. Set it to "),Ne=s("code"),fo=a("wlan0"),mo=a(" if your Pi is connected to your home network by WiFi, of use "),De=s("code"),yo=a("eth0"),Eo=a(" for Ethernet."),Ye=d(),D=s("p"),bo=a("The script also sets up "),Oe=s("code"),wo=a("NGINX"),So=a(" as an example webserver that uses the automatically generated certificates."),ze=d(),Z=s("p"),vo=a("Once this is done you should be able to connect securely to your Pi seamlessly provided you are on the same network segment :)."),this.h()},l(t){h=i(t,"P",{});var l=n(h);L=r(l,"Lately I\u2019ve been playing about with "),S=i(l,"EM",{});var Po=n(S);R=r(Po,"Progressive Web Apps"),Po.forEach(o),te=r(l," and some of the "),E=i(l,"A",{href:!0,rel:!0});var ko=n(E);Ze=r(ko,"cool things you can do now entirely in a Browser"),ko.forEach(o),Je=r(l,". Most of my software experience is in the realm of embedded systems, where you don\u2019t really have to worry about maintaining a codebase for multiple platforms/architectures. The prospect of having to make/maintain a program for multiple operating systems intimidates me, so I\u2019m pleased that I can now make and distribute a cross-platform app in pretty much the same way that I deploy my website."),l.forEach(o),Le=u(t),_=i(t,"P",{});var J=n(_);Qe=r(J,"The one trouble with Progressive Web Apps is that they can only be installed over a "),oe=i(J,"STRONG",{});var Ao=n(oe);et=r(Ao,"secure connection"),Ao.forEach(o),tt=r(J,". This is quite sensible, and something I don\u2019t have to really worry about when deploying with "),ae=i(J,"EM",{});var No=n(ae);ot=r(No,"GitHub Pages"),No.forEach(o),at=r(J,". However, the moment I want to play about with something that\u2019s not on the public internet, things become a bit more tricky."),J.forEach(o),Re=u(t),X=i(t,"P",{});var Do=n(X);rt=r(Do,"I\u2019m sure everyone reading this will have probably clicked through a secure connection warning or used self-signed certificates at some point. This doesn\u2019t work for Progressive Web Apps, and I found myself in the situation where I wanted to install a PWA that was hosted on a Raspberry Pi, but couldn\u2019t because my connection wasn\u2019t secure."),Do.forEach(o),Me=u(t),g=i(t,"P",{});var Q=n(g);st=r(Q,"So what do you need to get a secure connection without a self-signed certificate? The answer is a "),re=i(Q,"EM",{});var Oo=n(re);it=r(Oo,"certificate authority"),Oo.forEach(o),nt=r(Q,". There are far better places than here to learn how certificate authorities work, but the mile-high explanation is that they tell users that you are who you say you are when they connect to your server, helping prevent "),M=i(Q,"A",{href:!0,rel:!0});var Co=n(M);lt=r(Co,"Man-in-the-Middle Attacks"),Co.forEach(o),ct=r(Q,"."),Q.forEach(o),Ge=u(t),A=i(t,"P",{});var Ke=n(A);dt=r(Ke,"My first thought to fix this issue was to set up my own "),G=i(Ke,"A",{href:!0,rel:!0});var Lo=n(G);ut=r(Lo,"local certificate authority"),Lo.forEach(o),ht=r(Ke,". This would work, but is not ideal, as I would have to add that Certificate Authority\u2019s root certificate to every device I wanted to use the PWA on, and I would have to host that Certificate Authority on any network I wanted to use the PWA on. Ideally I wanted to use a public Certificate Authority to sign certificates for a device on a private network. Hence this project."),Ke.forEach(o),He=u(t),F=i(t,"P",{});var Ro=n(F);q=i(Ro,"IMG",{src:!0,alt:!0}),Ro.forEach(o),xe=u(t),m=i(t,"P",{});var v=n(m);H=i(v,"A",{href:!0,rel:!0});var Mo=n(H);pt=r(Mo,"My project"),Mo.forEach(o),ft=r(v," works by taking advantage of something called a "),se=i(v,"CODE",{});var Go=n(se);mt=r(Go,"DNS-01"),Go.forEach(o),yt=r(v," challenge, and the only thing you need to use it is a domain name, proxied through "),ie=i(v,"EM",{});var Ho=n(ie);Et=r(Ho,"Cloudflare"),Ho.forEach(o),bt=r(v,". It uses a tool called "),ne=i(v,"CODE",{});var xo=n(ne);wt=r(xo,"certbot"),xo.forEach(o),St=r(v," to generate a certificate through "),le=i(v,"EM",{});var Bo=n(le);vt=r(Bo,"LetsEncrypt"),Bo.forEach(o),_t=r(v," and the Cloudflare API to verify this certificate automatically. It\u2019s a neat way of getting out-of-the box SSL working on a Raspberry Pi or other Debian-based machines."),v.forEach(o),Be=u(t),f=i(t,"P",{});var w=n(f);gt=r(w,"So how does it work? To get an understanding of what \u2018challenges\u2019 are and why they are used I would highly recommend reading "),x=i(w,"A",{href:!0,rel:!0});var Uo=n(x);It=r(Uo,"this article"),Uo.forEach(o),Tt=r(w," on "),ce=i(w,"EM",{});var $o=n(ce);Pt=r($o,"Letsencrypt\u2019s"),$o.forEach(o),kt=r(w," site. The most common challenge; the "),de=i(w,"CODE",{});var Wo=n(de);At=r(Wo,"HTTP-01"),Wo.forEach(o),Nt=r(w," challenge; wont work here, as the Raspberry Pi\u2019s webserver is not publicly accessible by LetsEncrypt\u2019s servers. Instead, what we give our Pi a public DNS record through "),ue=i(w,"EM",{});var Xo=n(ue);Dt=r(Xo,"Cloudflare"),Xo.forEach(o),Ot=r(w,", and then give the Pi an API token that it can use to edit this record. When we go to issue our certificate, we can automatically add our challenge token to our DNS record when requesting a certificate. This DNS record can then also be used for "),he=i(w,"EM",{});var Fo=n(he);Ct=r(Fo,"Dynamic DNS"),Fo.forEach(o),Lt=r(w," when connecting to the Pi."),w.forEach(o),Ue=u(t),y=i(t,"P",{});var k=n(y);Rt=r(k,"To set up this yourself, all you need to do is create an "),pe=i(k,"CODE",{});var qo=n(pe);Mt=r(qo,"A"),qo.forEach(o),Gt=r(k," record on your domain through "),fe=i(k,"EM",{});var jo=n(fe);Ht=r(jo,"Cloudflare\u2019s"),jo.forEach(o),xt=r(k," DNS tools "),me=i(k,"EM",{});var Yo=n(me);Bt=r(Yo,"(see image below)"),Yo.forEach(o),Ut=r(k,". The address doesn\u2019t really matter, as The Pi will keep it updated as it\u2019s local IP address changes. I set mine to "),ye=i(k,"CODE",{});var zo=n(ye);$t=r(zo,"0.0.0.0"),zo.forEach(o),Wt=r(k," initially."),k.forEach(o),$e=u(t),j=i(t,"P",{});var Ko=n(j);Y=i(Ko,"IMG",{src:!0,alt:!0}),Ko.forEach(o),We=u(t),I=i(t,"P",{});var ee=n(I);Xt=r(ee,"Once this is done, you need to generate an "),B=i(ee,"A",{href:!0,rel:!0});var Vo=n(B);Ft=r(Vo,"API Token"),Vo.forEach(o),qt=r(ee," and note it down along with your "),Ee=i(ee,"EM",{});var Zo=n(Ee);jt=r(Zo,"zone identifier"),Zo.forEach(o),Yt=r(ee,"."),ee.forEach(o),Xe=u(t),z=i(t,"P",{});var Jo=n(z);zt=r(Jo,"Now pull up a shell on your Pi/other device: Navigate to your home directory and run the following set of commands."),Jo.forEach(o),Fe=u(t),U=i(t,"PRE",{class:!0});var Ea=n(U);Ea.forEach(o),qe=u(t),K=i(t,"P",{});var Qo=n(K);Kt=r(Qo,"This will run a fully automated install script. The script will prompt for four bits of information:"),Qo.forEach(o),je=u(t),b=i(t,"UL",{});var O=n(b);be=i(O,"LI",{});var ea=n(be);T=i(ea,"P",{});var $=n(T);we=i($,"CODE",{});var ta=n(we);Vt=r(ta,"Record name (subdomain)"),ta.forEach(o),Zt=r($," : this is the full domain name that you set up on "),Se=i($,"EM",{});var oa=n(Se);Jt=r(oa,"Cloudflare"),oa.forEach(o),Qt=r($,". For me this might be something like "),ve=i($,"CODE",{});var aa=n(ve);eo=r(aa,"example.local.bojit.org"),aa.forEach(o),to=r($,"."),$.forEach(o),ea.forEach(o),oo=u(O),_e=i(O,"LI",{});var ra=n(_e);V=i(ra,"P",{});var _o=n(V);ge=i(_o,"CODE",{});var sa=n(ge);ao=r(sa,"Cloudflare API Token"),sa.forEach(o),ro=r(_o," : The token you generated earlier."),_o.forEach(o),ra.forEach(o),so=u(O),Ie=i(O,"LI",{});var ia=n(Ie);N=i(ia,"P",{});var Ce=n(N);Te=i(Ce,"CODE",{});var na=n(Te);io=r(na,"Cloudflare Zone Identifier"),na.forEach(o),no=r(Ce," : A string that uniquely identifies you "),Pe=i(Ce,"EM",{});var la=n(Pe);lo=r(la,"Cloudflare"),la.forEach(o),co=r(Ce," zone. It can be found on your dashboard homepage."),Ce.forEach(o),ia.forEach(o),uo=u(O),ke=i(O,"LI",{});var ca=n(ke);P=i(ca,"P",{});var W=n(P);Ae=i(W,"CODE",{});var da=n(Ae);ho=r(da,"Target Interface"),da.forEach(o),po=r(W," : This is the network interface on your Pi that you want to use to update the address of your DNS record. Set it to "),Ne=i(W,"CODE",{});var ua=n(Ne);fo=r(ua,"wlan0"),ua.forEach(o),mo=r(W," if your Pi is connected to your home network by WiFi, of use "),De=i(W,"CODE",{});var ha=n(De);yo=r(ha,"eth0"),ha.forEach(o),Eo=r(W," for Ethernet."),W.forEach(o),ca.forEach(o),O.forEach(o),Ye=u(t),D=i(t,"P",{});var Ve=n(D);bo=r(Ve,"The script also sets up "),Oe=i(Ve,"CODE",{});var pa=n(Oe);wo=r(pa,"NGINX"),pa.forEach(o),So=r(Ve," as an example webserver that uses the automatically generated certificates."),Ve.forEach(o),ze=u(t),Z=i(t,"P",{});var fa=n(Z);vo=r(fa,"Once this is done you should be able to connect securely to your Pi seamlessly provided you are on the same network segment :)."),fa.forEach(o),this.h()},h(){p(E,"href","https://plotty.bojit.org"),p(E,"rel","nofollow"),p(M,"href","https://medium.com/@munteanu210/ssl-certificates-vs-man-in-the-middle-attacks-3fb7846fa5db"),p(M,"rel","nofollow"),p(G,"href","https://deliciousbrains.com/ssl-certificate-authority-for-local-https-development/"),p(G,"rel","nofollow"),ma(q.src,Io="https://cdn.bojit.org/img/posts/Local_SSL-Cover.PNG")||p(q,"src",Io),p(q,"alt","Local_SSL-Cover.PNG"),p(H,"href","https://github.com/BOJIT/local_ssl"),p(H,"rel","nofollow"),p(x,"href","https://letsencrypt.org/docs/challenge-types/"),p(x,"rel","nofollow"),ma(Y.src,To="https://cdn.bojit.org/img/posts/Local_SSL-DNS.PNG")||p(Y,"src",To),p(Y,"alt","Local_SSL-DNS.PNG"),p(B,"href","https://developers.cloudflare.com/api/tokens/create"),p(B,"rel","nofollow"),p(U,"class","language-bash")},m(t,l){c(t,h,l),e(h,L),e(h,S),e(S,R),e(h,te),e(h,E),e(E,Ze),e(h,Je),c(t,Le,l),c(t,_,l),e(_,Qe),e(_,oe),e(oe,et),e(_,tt),e(_,ae),e(ae,ot),e(_,at),c(t,Re,l),c(t,X,l),e(X,rt),c(t,Me,l),c(t,g,l),e(g,st),e(g,re),e(re,it),e(g,nt),e(g,M),e(M,lt),e(g,ct),c(t,Ge,l),c(t,A,l),e(A,dt),e(A,G),e(G,ut),e(A,ht),c(t,He,l),c(t,F,l),e(F,q),c(t,xe,l),c(t,m,l),e(m,H),e(H,pt),e(m,ft),e(m,se),e(se,mt),e(m,yt),e(m,ie),e(ie,Et),e(m,bt),e(m,ne),e(ne,wt),e(m,St),e(m,le),e(le,vt),e(m,_t),c(t,Be,l),c(t,f,l),e(f,gt),e(f,x),e(x,It),e(f,Tt),e(f,ce),e(ce,Pt),e(f,kt),e(f,de),e(de,At),e(f,Nt),e(f,ue),e(ue,Dt),e(f,Ot),e(f,he),e(he,Ct),e(f,Lt),c(t,Ue,l),c(t,y,l),e(y,Rt),e(y,pe),e(pe,Mt),e(y,Gt),e(y,fe),e(fe,Ht),e(y,xt),e(y,me),e(me,Bt),e(y,Ut),e(y,ye),e(ye,$t),e(y,Wt),c(t,$e,l),c(t,j,l),e(j,Y),c(t,We,l),c(t,I,l),e(I,Xt),e(I,B),e(B,Ft),e(I,qt),e(I,Ee),e(Ee,jt),e(I,Yt),c(t,Xe,l),c(t,z,l),e(z,zt),c(t,Fe,l),c(t,U,l),U.innerHTML=ya,c(t,qe,l),c(t,K,l),e(K,Kt),c(t,je,l),c(t,b,l),e(b,be),e(be,T),e(T,we),e(we,Vt),e(T,Zt),e(T,Se),e(Se,Jt),e(T,Qt),e(T,ve),e(ve,eo),e(T,to),e(b,oo),e(b,_e),e(_e,V),e(V,ge),e(ge,ao),e(V,ro),e(b,so),e(b,Ie),e(Ie,N),e(N,Te),e(Te,io),e(N,no),e(N,Pe),e(Pe,lo),e(N,co),e(b,uo),e(b,ke),e(ke,P),e(P,Ae),e(Ae,ho),e(P,po),e(P,Ne),e(Ne,fo),e(P,mo),e(P,De),e(De,yo),e(P,Eo),c(t,Ye,l),c(t,D,l),e(D,bo),e(D,Oe),e(Oe,wo),e(D,So),c(t,ze,l),c(t,Z,l),e(Z,vo)},p:go,i:go,o:go,d(t){t&&o(h),t&&o(Le),t&&o(_),t&&o(Re),t&&o(X),t&&o(Me),t&&o(g),t&&o(Ge),t&&o(A),t&&o(He),t&&o(F),t&&o(xe),t&&o(m),t&&o(Be),t&&o(f),t&&o(Ue),t&&o(y),t&&o($e),t&&o(j),t&&o(We),t&&o(I),t&&o(Xe),t&&o(z),t&&o(Fe),t&&o(U),t&&o(qe),t&&o(K),t&&o(je),t&&o(b),t&&o(Ye),t&&o(D),t&&o(ze),t&&o(Z)}}}const Aa={title:"SSL over a Local Network",date:"22-08-2021",published:!0,tile:{type:"link",colour:"#efa2af"}};class Na extends ba{constructor(h){super(),wa(this,h,null,va,Sa,{})}}export{Na as default,Aa as metadata};
